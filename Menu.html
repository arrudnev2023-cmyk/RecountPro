<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RecountPro — Меню</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1: #0b0710;
      --bg-2: #141025;
      --glass: rgba(255,255,255,0.04);
      --muted: rgba(255,255,255,0.6);
      --neon1: #8a2be2;
      --neon2: #c86cff;
      --accent: linear-gradient(90deg,var(--neon1),var(--neon2));
      --card-radius: 16px;
      --btn-radius: 14px;
      --shadow: 0 10px 30px rgba(0,0,0,0.6);
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0;background:
      radial-gradient(800px 400px at 10% 10%, rgba(138,43,226,0.08), transparent),
      radial-gradient(600px 300px at 90% 90%, rgba(200,108,255,0.06), transparent),
      linear-gradient(180deg,var(--bg-1),var(--bg-2));
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
      color: #eef0ff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }

    /* Canvas background covers whole viewport and doesn't block interaction */
    #bg{position:fixed;inset:0;z-index:-2;display:block;pointer-events:none;background:transparent}

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:36px 16px;
      position:relative;
      z-index:1;
    }

    .menu-box{
      width:100%;
      max-width:420px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.03);
      border-radius: var(--card-radius);
      padding:20px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
      animation: popIn .6s cubic-bezier(.2,.9,.2,1);
      position:relative;
    }

    @keyframes popIn{
      from{opacity:0; transform: translateY(18px) scale(.995)}
      to{opacity:1; transform: translateY(0) scale(1)}
    }

    h2{
      margin:0 0 18px 0;
      text-align:center;
      font-size:24px;
      letter-spacing:0.6px;
      font-weight:700;
      color: #fff;
      text-shadow: 0 6px 30px rgba(138,43,226,0.08);
    }

    .subtitle{
      text-align:center;
      font-size:13px;
      color:var(--muted);
      margin-bottom:18px;
    }

    .btn {
      width:100%;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px 16px;
      margin:10px 0;
      border-radius: var(--btn-radius);
      border: 1px solid rgba(255,255,255,0.06);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      color: #fff;
      font-size:16px;
      font-weight:600;
      cursor:pointer;
      transition: transform .14s ease, box-shadow .14s ease, background .14s ease;
      box-shadow: 0 6px 18px rgba(2,2,8,0.6);
      position:relative;
      overflow:hidden;
    }

    .btn:active{ transform: translateY(1px) }

    .btn::before{
      content:"";
      position:absolute;
      left:-60%;
      top:-60%;
      width:220%;
      height:220%;
      background: linear-gradient(120deg, rgba(255,255,255,0.06), rgba(255,255,255,0));
      transform: rotate(25deg);
      transition: all .45s ease;
      opacity:0;
    }

    .btn:hover::before{ left:-20%; top:-20%; opacity:1 }

    .btn.neon{
      background: var(--accent);
      color: #0b0710;
      border: none;
      box-shadow: 0 10px 40px rgba(138,43,226,0.18), 0 0 30px rgba(200,108,255,0.06) inset;
    }
    .btn.neon:hover{
      transform: translateY(-4px);
      box-shadow: 0 18px 50px rgba(138,43,226,0.22), 0 0 40px rgba(200,108,255,0.08) inset;
    }

    .btn.ghost{
      background: transparent;
      border: 1px solid rgba(255,255,255,0.06);
      color: var(--muted);
      box-shadow: none;
    }
    .btn.ghost:hover{
      background: rgba(255,255,255,0.02);
      transform: translateY(-2px);
    }

    .btn.add{
      background: linear-gradient(90deg, rgba(138,43,226,0.14), rgba(200,108,255,0.12));
      border: 1px solid rgba(200,108,255,0.18);
      color: #fff;
      box-shadow: 0 8px 30px rgba(138,43,226,0.12);
    }
    .btn.add:hover{
      background: var(--accent);
      color: #0b0710;
      transform: translateY(-4px);
      box-shadow: 0 16px 50px rgba(138,43,226,0.18);
    }

    a.link-btn{ display:block; text-decoration:none; }

    @media (max-width:420px){
      .menu-box{ padding:16px }
      .btn{ padding:12px; font-size:15px }
    }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>

  <div class="wrap">
    <div class="menu-box" role="navigation" aria-label="Меню RecountPro">
      <h2>Меню RecountPro</h2>
      <div class="subtitle">Быстрый доступ к основным разделам</div>

      <a class="link-btn" href="Baza.html" aria-label="Открыть База товаров">
        <button class="btn neon" type="button" aria-label="База товаров">База товаров</button>
      </a>

      <button class="btn" type="button" aria-label="База товаров без штрихкодов">База товаров без ШК</button>
      <button class="btn" type="button" aria-label="Аналитика">Аналитика</button>

      <a class="link-btn" href="Invent.html" aria-label="Инвентаризация — открыть Invent.html">
        <button class="btn" type="button" aria-haspopup="true">Инвентаризация</button>
      </a>

      <button class="btn" type="button" aria-label="Приход и расход">Приход / Расход</button>

      <a class="link-btn" href="boosty.html" aria-label="Добавить товар — открыть boosty.html">
        <button class="btn add" type="button">Добавить товар</button>
      </a>

      <a class="link-btn" href="Scaner.html" aria-label="База штрих‑кодов">
        <button class="btn" type="button">База штрих‑кодов</button>
      </a>
    </div>
  </div>

  <script>
    // Canvas background: stars + brighter, visible comets
    const canvas = document.getElementById('bg');
    const ctx = canvas.getContext('2d');

    function resizeCanvas(){
      const dpr = window.devicePixelRatio || 1;
      canvas.width = Math.max(1, Math.floor(window.innerWidth * dpr));
      canvas.height = Math.max(1, Math.floor(window.innerHeight * dpr));
      canvas.style.width = window.innerWidth + 'px';
      canvas.style.height = window.innerHeight + 'px';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    // Stars
    const stars = [];
    const STAR_COUNT = Math.max(120, Math.floor((window.innerWidth * window.innerHeight) / 6000));
    for(let i=0;i<STAR_COUNT;i++){
      stars.push({
        x: Math.random()*window.innerWidth,
        y: Math.random()*window.innerHeight,
        r: Math.random()*1.6 + 0.4,
        alpha: Math.random()*0.9 + 0.1,
        speed: Math.random()*0.25 + 0.02,
        twinkle: Math.random()*0.02 + 0.005
      });
    }

    // Comets pool
    const comets = [];

    function spawnComet(){
      // spawn from left/top area with varied angles for visibility
      const startY = Math.random() * window.innerHeight * 0.6;
      const speed = 6 + Math.random()*6; // faster so visible
      const angle = (Math.random()*30 - 10) * (Math.PI/180); // slight angle
      const length = 120 + Math.random()*220;
      comets.push({
        x: -80 - Math.random()*120,
        y: startY,
        vx: speed * Math.cos(angle),
        vy: speed * Math.sin(angle) + 0.6,
        life: 0,
        maxLife: 400 + Math.random()*200,
        length,
        glow: 0.9 + Math.random()*0.6
      });
    }

    // Click particles (decorative)
    let clickParticles = [];
    canvas.addEventListener('click', (e)=>{
      const rect = canvas.getBoundingClientRect();
      const x = (e.clientX - rect.left);
      const y = (e.clientY - rect.top);
      for(let i=0;i<18;i++){
        clickParticles.push({
          x, y,
          vx: (Math.random()-0.5)*4,
          vy: (Math.random()-0.5)*4,
          life: 0,
          maxLife: 60,
          r: Math.random()*2 + 1
        });
      }
    });

    function drawClickParticles(){
      for(let i = clickParticles.length-1; i>=0; i--){
        const p = clickParticles[i];
        ctx.fillStyle = `rgba(255,255,200,${1 - p.life / p.maxLife})`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();
        p.x += p.vx;
        p.y += p.vy;
        p.life++;
        if(p.life > p.maxLife) clickParticles.splice(i,1);
      }
    }

    function drawComet(c){
      // tail
      const tailLen = c.length;
      const tx = c.x - c.vx * (tailLen/ (c.vx||1));
      const ty = c.y - c.vy * (tailLen/ (c.vy||1));
      const grad = ctx.createLinearGradient(c.x, c.y, tx, ty);
      grad.addColorStop(0, `rgba(255,255,255,${0.95 * c.glow})`);
      grad.addColorStop(0.4, `rgba(200,108,255,${0.45 * c.glow})`);
      grad.addColorStop(1, `rgba(200,108,255,0)`);
      ctx.strokeStyle = grad;
      ctx.lineWidth = 3.5;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(c.x, c.y);
      ctx.lineTo(tx, ty);
      ctx.stroke();

      // bright head with glow
      const headRadius = 4 + (c.glow*2);
      ctx.beginPath();
      ctx.fillStyle = `rgba(255,255,255,${0.95 * c.glow})`;
      ctx.arc(c.x, c.y, headRadius, 0, Math.PI*2);
      ctx.fill();

      // soft outer glow
      const g = ctx.createRadialGradient(c.x, c.y, headRadius*0.2, c.x, c.y, headRadius*6);
      g.addColorStop(0, `rgba(200,108,255,${0.18 * c.glow})`);
      g.addColorStop(1, 'rgba(200,108,255,0)');
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(c.x, c.y, headRadius*6, 0, Math.PI*2);
      ctx.fill();
    }

    function animate(){
      // clear with slight transparent fill to create subtle trails
      ctx.clearRect(0,0,canvas.width,canvas.height);

      // draw stars
      for(let s of stars){
        s.alpha += (Math.random()-0.5)*s.twinkle;
        if(s.alpha < 0.05) s.alpha = 0.05;
        if(s.alpha > 1) s.alpha = 1;
        s.y += s.speed;
        if(s.y > window.innerHeight){
          s.y = -2;
          s.x = Math.random()*window.innerWidth;
        }
        ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctx.fill();
      }

      // spawn comets more frequently but controlled
      if(Math.random() < 0.02) spawnComet(); // ~2% per frame -> visible often

      // draw comets
      for(let i = comets.length-1; i>=0; i--){
        const c = comets[i];
        drawComet(c);
        c.x += c.vx;
        c.y += c.vy;
        c.life++;
        // fade out by reducing glow
        c.glow *= 0.9995;
        if(c.x > window.innerWidth + 200 || c.y > window.innerHeight + 200 || c.life > c.maxLife){
          comets.splice(i,1);
        }
      }

      drawClickParticles();
      requestAnimationFrame(animate);
    }

    // Start animation loop
    animate();

    // Rebuild stars on resize to keep density consistent
    let resizeTimeout;
    window.addEventListener('resize', ()=>{
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(()=>{
        resizeCanvas();
        // rebuild stars to match new size
        stars.length = 0;
        const newCount = Math.max(120, Math.floor((window.innerWidth * window.innerHeight) / 6000));
        for(let i=0;i<newCount;i++){
          stars.push({
            x: Math.random()*window.innerWidth,
            y: Math.random()*window.innerHeight,
            r: Math.random()*1.6 + 0.4,
            alpha: Math.random()*0.9 + 0.1,
            speed: Math.random()*0.25 + 0.02,
            twinkle: Math.random()*0.02 + 0.005
          });
        }
      }, 120);
    });

    // Prevent double-tap zoom on iOS Safari
    document.addEventListener('touchstart', function preventZoom(e){
      if(e.touches && e.touches.length > 1) e.preventDefault();
    }, { passive: false });

  </script>
</body>
</html>
