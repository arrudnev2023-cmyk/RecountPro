<!DOCTYPE html> 
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PetHub ‚Äî –ü–∏—Ç–æ–º—Ü—ã (MVP)</title>
  <meta name="description" content="–ü–æ–∏—Å–∫ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –ø–∏—Ç–æ–º—Ü–∞—Ö: —Ñ–æ—Ç–æ, –æ–ø–∏—Å–∞–Ω–∏–µ, –≥–æ—Ä–æ–¥, –∫–æ–Ω—Ç–∞–∫—Ç—ã"/>
  <style>
    :root {
      --bg: #0b1020; --card: #151a2e; --text: #eaf2ff; --muted: #9fb0cc; --accent: #17d9ff; --border:#223058;
    }
    * { box-sizing:border-box; }
    html, body { margin:0; padding:0; background:var(--bg); color:var(--text); font-family:system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    header { position:sticky; top:0; z-index:10; backdrop-filter: blur(8px);
      background: linear-gradient(180deg, rgba(11,16,32,0.8), rgba(11,16,32,0.4)); border-bottom:1px solid var(--border); }
    .brand { max-width:1100px; margin:0 auto; display:flex; gap:14px; align-items:center; padding:14px 16px; }
    .logo { width:38px; height:38px; border-radius:10px; background:
      radial-gradient(120% 120% at 20% 20%, #0ef 0%, #637cff 45%, #742dff 70%, #0b1020 100%);
      box-shadow: 0 0 24px rgba(124,240,255,0.35), inset 0 0 24px rgba(99,124,255,0.25);
    }
    h1 { margin:0; font-size:18px; letter-spacing:0.3px; }
    .sub { font-size:12px; color:var(--muted); }
    main { max-width:1100px; margin:0 auto; padding:16px; }
    .toolbar { display:flex; gap:10px; flex-wrap:wrap; margin-bottom:12px; }
    input, select, textarea {
      width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#0f1530; color:var(--text);
    }
    input:focus, select:focus, textarea:focus { border-color: var(--accent); outline:none; }
    .btn { padding:10px 14px; border-radius:10px; border:1px solid var(--border); background:#102040; color:var(--text); font-weight:700; cursor:pointer; }
    .btn.primary { background: linear-gradient(90deg, #17d9ff, #7f77ff); border:0; }
    .btn.ghost { background: transparent; color: var(--muted); }
    .grid { display:grid; grid-template-columns: repeat( auto-fill, minmax(260px, 1fr) ); gap:12px; }
    .card { background: linear-gradient(180deg, rgba(21,26,46,0.9), rgba(21,26,46,0.7)); border:1px solid var(--border);
      border-radius:14px; padding:12px; box-shadow: 0 12px 30px rgba(0,0,0,0.25); cursor:pointer; }
    .card img { width:100%; height:180px; object-fit:cover; border-radius:12px; margin-bottom:8px; }
    .tag { display:inline-block; font-size:12px; color:#ffd36e; margin-bottom:6px; }
    .mini { font-size:12px; color:var(--muted); }
    .section-title { display:flex; align-items:center; justify-content:space-between; margin:8px 0 12px; }
    .panel { background: var(--card); border:1px solid var(--border); border-radius:14px; padding:12px; }
    /* Modal */
    #pet-modal { position:fixed; inset:0; background:rgba(0,0,0,0.7); display:none; align-items:center; justify-content:center; z-index:100; }
    #pet-modal .box { background:#151a2e; border:1px solid var(--border); border-radius:16px; padding:16px; width:min(560px, 92vw); position:relative; }
    #pet-modal img { width:100%; border-radius:12px; margin-bottom:12px; max-height:60vh; object-fit:cover; }
    #pet-modal .close { position:absolute; top:10px; right:10px; background:transparent; border:0; color:#fff; font-size:20px; cursor:pointer; }
    footer { color:var(--muted); font-size:12px; text-align:center; padding:24px; }
    /* Soft cosmic bg */
    body::before { content:""; position:fixed; inset:-10%; z-index:-1; background:
      radial-gradient(1200px 600px at 10% 20%, rgba(23,217,255,0.15), transparent 60%),
      radial-gradient(800px 800px at 88% 10%, rgba(127,119,255,0.12), transparent 60%),
      radial-gradient(600px 400px at 70% 80%, rgba(116,45,255,0.16), transparent 60%),
      linear-gradient(180deg, #070b18, #0b1020 50%, #0e1427);
      filter:saturate(1.1);
      animation: float 18s ease-in-out infinite alternate;
    }
    @keyframes float { from { transform:translateY(-1%)} to { transform:translateY(1%)} }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1>PetHub ‚Äî –ü–∏—Ç–æ–º—Ü—ã</h1>
        <div class="sub">–ü–æ–∏—Å–∫ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö</div>
      </div>
    </div>
  </header>

  <main>
    <!-- Toolbar: –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
    <div class="toolbar">
      <input id="q" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, –ø–æ—Ä–æ–¥–µ, –æ–ø–∏—Å–∞–Ω–∏—é, –≥–æ—Ä–æ–¥—É‚Ä¶" />
      <select id="type">
        <option value="">–¢–∏–ø: –ª—é–±–æ–π</option>
        <option value="dog">–°–æ–±–∞–∫–∞</option>
        <option value="cat">–ö–æ—à–∫–∞</option>
        <option value="other">–î—Ä—É–≥–æ–µ</option>
      </select>
      <select id="age">
        <option value="">–í–æ–∑—Ä–∞—Å—Ç: –ª—é–±–æ–π</option>
        <option value="baby">–©–µ–Ω–æ–∫/–∫–æ—Ç—ë–Ω–æ–∫</option>
        <option value="adult">–í–∑—Ä–æ—Å–ª—ã–π</option>
        <option value="senior">–ü–æ–∂–∏–ª–æ–π</option>
      </select>
      <button class="btn" id="reset">–°–±—Ä–æ—Å–∏—Ç—å</button>
      <button class="btn primary" id="open-form">–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ -->
    <div class="grid" id="list"></div>

    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
    <div id="form-panel" class="panel" style="margin-top:16px; display:none;">
      <div class="section-title">
        <h2 style="margin:0;">–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h2>
        <button class="btn ghost" id="close-form">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <div class="toolbar">
        <input id="f-name" placeholder="–ò–º—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ"/>
        <input id="f-breed" placeholder="–ü–æ—Ä–æ–¥–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"/>
      </div>
      <div class="toolbar">
        <input id="f-city" placeholder="–ì–æ—Ä–æ–¥"/>
        <select id="f-type">
          <option value="dog">–°–æ–±–∞–∫–∞</option>
          <option value="cat">–ö–æ—à–∫–∞</option>
          <option value="other">–î—Ä—É–≥–æ–µ</option>
        </select>
        <select id="f-age">
          <option value="baby">–©–µ–Ω–æ–∫/–∫–æ—Ç—ë–Ω–æ–∫</option>
          <option value="adult">–í–∑—Ä–æ—Å–ª—ã–π</option>
          <option value="senior">–ü–æ–∂–∏–ª–æ–π</option>
        </select>
      </div>
      <textarea id="f-desc" rows="4" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ: —Ö–∞—Ä–∞–∫—Ç–µ—Ä, –∑–¥–æ—Ä–æ–≤—å–µ, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±—É–¥—É—â–µ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É‚Ä¶"></textarea>
      <div class="toolbar">
        <input id="f-phone" placeholder="–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω (+7...)"/>
        <input id="f-photo" type="file" accept="image/*"/>
      </div>
      <button class="btn primary" id="f-save">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
      <p class="mini" style="margin-top:8px;">–§–æ—Ç–æ –∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ. –î–ª—è –æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º —Å–µ—Ä–≤–µ—Ä.</p>
    </div>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
  <div id="pet-modal">
    <div class="box">
      <button class="close" onclick="closeModal()">‚úñ</button>
      <img id="m-photo" alt="–§–æ—Ç–æ –ø–∏—Ç–æ–º—Ü–∞"/>
      <h2 id="m-name" style="margin:6px 0;"></h2>
      <div class="mini" id="m-meta"></div>
      <p id="m-desc" style="margin:10px 0;"></p>
      <div class="toolbar" style="margin-top:8px;">
        <a class="btn" id="m-call" href="#" target="_blank">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
        <button class="btn ghost" id="m-share">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
      </div>
    </div>
  </div>

  <footer>PetHub ‚Ä¢ v1.0 ‚Ä¢ –¢–æ–ª—å–∫–æ –ø–æ–∏—Å–∫ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–∏—Ç–æ–º—Ü–µ–≤ (–ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)</footer>

  <script>
    // --------- –•—Ä–∞–Ω–∏–ª–∏—â–µ ---------
    const el = id => document.getElementById(id);
    const persist = () => localStorage.setItem('pets', JSON.stringify(db.pets));
    const load = () => JSON.parse(localStorage.getItem('pets') || '[]');

    let db = { pets: load() };
    if (db.pets.length === 0) {
      db.pets = [
        { id:'p1', name:'–ú–∞—Ä—É—Å—è', breed:'', type:'cat', age:'adult', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
          desc:'–õ–∞—Å–∫–æ–≤–∞—è –∏ —Å–ø–æ–∫–æ–π–Ω–∞—è, —Å—Ç–µ—Ä–∏–ª–∏–∑–æ–≤–∞–Ω–∞. –ò—â–µ—Ç –∑–∞–±–æ—Ç–ª–∏–≤—É—é —Å–µ–º—å—é.',
          phone:'+79990000001', photo:'https://placekitten.com/800/500' },
        { id:'p2', name:'–†–µ–∫—Å', breed:'–º–µ—Ç–∏—Å', type:'dog', age:'baby', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
          desc:'–ê–∫—Ç–∏–≤–Ω—ã–π —â–µ–Ω–æ–∫, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ª—é–±–∏—Ç –¥–µ—Ç–µ–π. –ü—Ä–∏–≤–∏–≤–∫–∏ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É.',
          phone:'+79990000002', photo:'https://placedog.net/800/500?id=12' },
        { id:'p3', name:'–°–∏–º–∞', breed:'–±—Ä–∏—Ç–∞–Ω—Å–∫–∞—è', type:'cat', age:'senior', city:'–ú–æ—Å–∫–≤–∞',
          desc:'–°–ø–æ–∫–æ–π–Ω–∞—è, –ª—é–±–∏—Ç —É—é—Ç. –ò–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è —Ç–∏—Ö–æ–≥–æ –¥–æ–º–∞. –ù—É–∂–Ω–∞ –∑–∞–±–æ—Ç–∞.',
          phone:'+74950000003', photo:'https://placekitten.com/801/501' }
      ];
      persist();
    }

    // --------- –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ ---------
    function render() {
      const q = el('q').value.trim().toLowerCase();
      const type = el('type').value;
      const age = el('age').value;

      const items = db.pets.filter(p => {
        const text = `${p.name} ${p.breed||''} ${p.city} ${p.desc}`.toLowerCase();
        const passQ = !q || text.includes(q);
        const passType = !type || p.type === type;
        const passAge = !age || p.age === age;
        return passQ && passType && passAge;
      });

      el('list').innerHTML = items.map(p => `
        <div class="card" onclick="openModal('${p.id}')">
          <span class="tag">${p.type==='dog'?'üê∂ –°–æ–±–∞–∫–∞':p.type==='cat'?'üê± –ö–æ—à–∫–∞':'üêæ –î—Ä—É–≥–æ–µ'}</span>
          <img src="${p.photo}" alt="${p.name}">
          <h3 style="margin:6px 0;">${p.name}${p.breed ? ' ‚Ä¢ ' + p.breed : ''}</h3>
          <div class="mini">${p.city} ¬∑ ${p.age==='baby'?'—â–µ–Ω–æ–∫/–∫–æ—Ç—ë–Ω–æ–∫':p.age==='adult'?'–≤–∑—Ä–æ—Å–ª—ã–π':'–ø–æ–∂–∏–ª–æ–π'}</div>
          <p style="margin:8px 0 0;" class="mini">${p.desc.slice(0,100)}${p.desc.length>100?'‚Ä¶':''}</p>
        </div>
      `).join('');
    }

    // --------- –ú–æ–¥–∞–ª ---------
    function openModal(id) {
      const p = db.pets.find(x => x.id === id);
      if (!p) return;
      el('m-photo').src = p.photo;
      el('m-name').textContent = p.name + (p.breed ? ' ‚Ä¢ ' + p.breed : '');
      el('m-meta').textContent = `${p.city} ¬∑ ${p.age==='baby'?'—â–µ–Ω–æ–∫/–∫–æ—Ç—ë–Ω–æ–∫':p.age==='adult'?'–≤–∑—Ä–æ—Å–ª—ã–π':'–ø–æ–∂–∏–ª–æ–π'}`;
      el('m-desc').textContent = p.desc;
      el('m-call').href = 'tel:' + p.phone;

      el('m-share').onclick = () => {
        const text = `–ü–∏—Ç–æ–º–µ—Ü: ${p.name}${p.breed?' ‚Ä¢ '+p.breed:''}\n–ì–æ—Ä–æ–¥: ${p.city}\n–û–ø–∏—Å–∞–Ω–∏–µ: ${p.desc}\n–¢–µ–ª: ${p.phone}`;
        if (navigator.share) navigator.share({ text }).catch(()=>{});
        else {
          navigator.clipboard?.writeText(text);
          alert('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –ª—é–±–æ–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä.');
        }
      };

      el('pet-modal').style.display = 'flex';
    }
    function closeModal() { el('pet-modal').style.display = 'none'; }

    // --------- –§–æ—Ä–º–∞ ---------
    el('open-form').addEventListener('click', () => el('form-panel').style.display = 'block');
    el('close-form').addEventListener('click', () => el('form-panel').style.display = 'none');

    el('f-save').addEventListener('click', () => {
      const name = el('f-name').value.trim();
      const breed = el('f-breed').value.trim();
      const city = el('f-city').value.trim();
      const type = el('f-type').value;
      const age = el('f-age').value;
      const desc = el('f-desc').value.trim();
      const phone = el('f-phone').value.trim();
      const file = el('f-photo').files[0];

      if (!name || !city || !desc || !phone || !file) {
        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è, –≥–æ—Ä–æ–¥, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ.');
        return;
      }

      const reader = new FileReader();
      reader.onload = e => {
        const photo = e.target.result; // DataURL
        const pet = { id: 'p' + Date.now(), name, breed, city, type, age, desc, phone, photo };
        db.pets.unshift(pet);
        persist();
        clearForm();
        el('form-panel').style.display = 'none';
        render();
        alert('–û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!');
      };
      reader.readAsDataURL(file);
    });

    function clearForm() {
      ['f-name','f-breed','f-city','f-desc','f-phone'].forEach(id => el(id).value = '');
      el('f-type').value = 'dog';
      el('f-age').value = 'adult';
      el('f-photo').value = '';
    }

    // --------- –ü–æ–∏—Å–∫/—Å–±—Ä–æ—Å ---------
    el('q').addEventListener('input', render);
    el('type').addEventListener('change', render);
    el('age').addEventListener('change', render);
    el('reset').addEventListener('click', () => {
      el('q').value = ''; el('type').value = ''; el('age').value = ''; render();
    });

    // --------- Init ---------
    render();
  </script>
</body>
</html>
