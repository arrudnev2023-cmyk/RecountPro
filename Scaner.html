<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PetHub ‚Äî –ü–∏—Ç–æ–º—Ü—ã</title>
  <style>
    :root {
      --bg: #fdfdfd;
      --card: #ffffff;
      --text: #222;
      --muted: #666;
      --accent: #ff914d;
      --border: #ddd;
    }
    * { box-sizing:border-box; }
    body { margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: var(--bg) url('https://i.ibb.co/7jYkVjM/paw-pattern.png') repeat; 
      color:var(--text); }
    header { background: var(--accent); color:#fff; padding:12px; display:flex; align-items:center; gap:12px; }
    .logo { width:40px; height:40px; background:url('https://i.ibb.co/4m9yQyH/dog-logo.png') center/cover no-repeat; border-radius:50%; }
    h1 { margin:0; font-size:20px; }
    .sub { font-size:12px; color:#fff; }
    main { max-width:1100px; margin:0 auto; padding:16px; }
    .toolbar { display:flex; gap:10px; flex-wrap:wrap; margin-bottom:12px; }
    input, select, textarea {
      width:100%; padding:10px; border-radius:8px; border:1px solid var(--border); background:#fff; color:var(--text);
    }
    .btn { padding:10px 14px; border-radius:8px; border:1px solid var(--border); background:var(--accent); color:#fff; font-weight:700; cursor:pointer; }
    .btn.ghost { background:#fff; color:var(--accent); }
    .grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(260px,1fr)); gap:12px; }
    .card { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1); cursor:pointer; }
    .card img { width:100%; height:180px; object-fit:cover; border-radius:10px; margin-bottom:8px; }
    .tag { font-size:12px; color:var(--accent); margin-bottom:6px; }
    .mini { font-size:12px; color:var(--muted); }
    #pet-modal { position:fixed; inset:0; background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:100; }
    #pet-modal .box { background:#fff; border-radius:12px; padding:16px; width:min(560px,92vw); position:relative; }
    #pet-modal img { width:100%; border-radius:12px; margin-bottom:12px; }
    #pet-modal .close { position:absolute; top:10px; right:10px; background:none; border:0; font-size:20px; cursor:pointer; }
    footer { text-align:center; color:var(--muted); font-size:12px; padding:20px; }
  </style>
</head>
<body>
  <header>
    <div class="logo"></div>
    <div>
      <h1>PetHub ‚Äî –ü–∏—Ç–æ–º—Ü—ã</h1>
      <div class="sub">–ü–æ–∏—Å–∫ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö</div>
    </div>
  </header>

  <main>
    <div class="toolbar">
      <input id="q" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, –ø–æ—Ä–æ–¥–µ, –≥–æ—Ä–æ–¥—É‚Ä¶" />
      <select id="type">
        <option value="">–¢–∏–ø: –ª—é–±–æ–π</option>
        <option value="dog">–°–æ–±–∞–∫–∞</option>
        <option value="cat">–ö–æ—à–∫–∞</option>
      </select>
      <select id="age">
        <option value="">–í–æ–∑—Ä–∞—Å—Ç: –ª—é–±–æ–π</option>
        <option value="baby">–©–µ–Ω–æ–∫/–∫–æ—Ç—ë–Ω–æ–∫</option>
        <option value="adult">–í–∑—Ä–æ—Å–ª—ã–π</option>
        <option value="senior">–ü–æ–∂–∏–ª–æ–π</option>
      </select>
      <button class="btn" id="reset">–°–±—Ä–æ—Å–∏—Ç—å</button>
      <button class="btn ghost" id="open-form">–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
    </div>

    <div class="grid" id="list"></div>

    <div id="form-panel" style="display:none; margin-top:16px;">
      <h3>–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
      <input id="f-name" placeholder="–ò–º—è"/>
      <input id="f-city" placeholder="–ì–æ—Ä–æ–¥"/>
      <textarea id="f-desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
      <input id="f-phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω"/>
      <input id="f-photo" type="file" accept="image/*"/>
      <button class="btn" id="f-save">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
    </div>
  </main>

  <div id="pet-modal">
    <div class="box">
      <button class="close" onclick="closeModal()">‚úñ</button>
      <img id="m-photo"/>
      <h2 id="m-name"></h2>
      <p id="m-desc"></p>
      <p id="m-city" class="mini"></p>
      <a id="m-call" class="btn" href="#">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
    </div>
  </div>

  <footer>PetHub ‚Ä¢ v1.1 ‚Ä¢ –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ —Å –ª–∞–ø–∫–∞–º–∏ üêæ</footer>

  <script>
    const el=id=>document.getElementById(id);
    let db={pets:JSON.parse(localStorage.getItem('pets')||'[]')};
    if(db.pets.length===0){
      db.pets=[{id:'p1',name:'–†–µ–∫—Å',city:'–°–ü–±',desc:'–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π —â–µ–Ω–æ–∫',phone:'+79990000001',photo:'https://placedog.net/400/300?id=2'}];
    }
    function render(){
      const q=el('q').value.toLowerCase();
      const type=el('type').value, age=el('age').value;
      el('list').innerHTML=db.pets.filter(p=>{
        return (!q||p.name.toLowerCase().includes(q)||p.city.toLowerCase().includes(q)||p.desc.toLowerCase().includes(q));
      }).map(p=>`
        <div class="card" onclick="openModal('${p.id}')">
          <span class="tag">üêæ ${p.city}</span>
          <img src="${p.photo}" alt="${p.name}"/>
          <h3>${p.name}</h3>
          <p class="mini">${p.desc}</p>
        </div>`).join('');
      localStorage.setItem('pets',JSON.stringify(db.pets));
    }
    function openModal(id){
      const p=db.pets.find(x=>x.id===id);
      if(!p)return;
      el('m-photo').src=p.photo;
      el('m-name').textContent=p.name;
      el('m-desc').textContent=p.desc;
      el('m-city').textContent="–ì–æ—Ä–æ–¥: "+p.city;
      el('m-call').href="tel:"+p.phone;
      el('pet-modal').style.display="flex";
    }
    function closeModal(){el('pet-modal').style.display="none";}
    el('open-form').onclick=()=>el('form-panel').style.display='block';
    el('f-save').onclick=()=>{
      const name=el('f-name').value, city=el('f-city').value, desc=el('f-desc').value, phone=el('f-phone').value, file=el('f-photo').files[0];
      if(!name||!city||!desc||!phone||!file){alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è");return;}
      const reader=new FileReader();
      reader.onload=e=>{
        db.pets.unshift({id:'p'+Date.now(),name,city,desc,phone,photo:e.target.result});
        render();el('form-panel').style.display='none';
      };
      reader.readAsDataURL(file);
    };
    el('reset').onclick=()=>{el('q').value='';el('type').value='';el('age').value='';render();};
    el('q').oninput=render;
    render();
  </script>
</body>
</html>
