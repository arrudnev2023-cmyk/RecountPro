<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>PetHub — Питомцы</title>
  <style>
    body { font-family: sans-serif; background:#fdfdfd; margin:0; }
    header { background:#ff914d; color:#fff; padding:12px; display:flex; align-items:center; gap:12px; }
    .logo svg { display:block; }
    h1 { margin:0; font-size:20px; }
    main { max-width:800px; margin:0 auto; padding:16px; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:12px; }
    .card { background:#fff; border:1px solid #ddd; border-radius:8px; padding:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); cursor:pointer; }
    .card img { width:100%; height:160px; object-fit:cover; border-radius:6px; }
    #form-panel { margin-top:16px; }
    input, textarea { width:100%; margin:6px 0; padding:8px; border:1px solid #ccc; border-radius:6px; }
    button { padding:10px 14px; border:none; border-radius:6px; background:#ff914d; color:#fff; font-weight:bold; cursor:pointer; }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <!-- SVG собачка -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="40" height="40">
        <circle cx="32" cy="32" r="28" fill="#fff" stroke="#222" stroke-width="2"/>
        <circle cx="22" cy="28" r="4" fill="#222"/>
        <circle cx="42" cy="28" r="4" fill="#222"/>
        <circle cx="32" cy="38" r="3" fill="#222"/>
        <path d="M12 20 Q8 8 20 12" fill="#fff" stroke="#222" stroke-width="2"/>
        <path d="M52 20 Q56 8 44 12" fill="#fff" stroke="#222" stroke-width="2"/>
      </svg>
    </div>
    <h1>PetHub — Питомцы</h1>
  </header>

  <main>
    <div class="grid" id="list"></div>

    <div id="form-panel">
      <h3>Новое объявление</h3>
      <input id="f-name" placeholder="Имя"/>
      <input id="f-city" placeholder="Город"/>
      <textarea id="f-desc" placeholder="Описание"></textarea>
      <input id="f-phone" placeholder="Телефон"/>
      <input id="f-photo" type="file" accept="image/*"/>
      <button id="f-save">Опубликовать</button>
    </div>
  </main>

  <script>
    async function loadPets(){
      const res = await fetch("pets.php");
      const pets = await res.json();
      document.getElementById("list").innerHTML = pets.map(p=>`
        <div class="card">
          <img src="${p.photo}" alt="${p.name}">
          <h3>${p.name}</h3>
          <p>${p.city}</p>
          <p>${p.desc}</p>
          <p>${p.phone}</p>
        </div>`).join("");
    }

    document.getElementById("f-save").onclick = async ()=>{
      const name=document.getElementById("f-name").value;
      const city=document.getElementById("f-city").value;
      const desc=document.getElementById("f-desc").value;
      const phone=document.getElementById("f-phone").value;
      const file=document.getElementById("f-photo").files[0];
      if(!name||!city||!desc||!phone||!file){alert("Заполните все поля");return;}
      const reader=new FileReader();
      reader.onload=async e=>{
        const pet={name,city,desc,phone,photo:e.target.result};
        await fetch("pets.php",{method:"POST",body:JSON.stringify(pet)});
        loadPets();
      };
      reader.readAsDataURL(file);
    };

    loadPets();
  </script>
</body>
</html>
