<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PetHub MVP</title>
  <meta name="description" content="–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö: –ø–æ–∏—Å–∫ –ø–∏—Ç–æ–º—Ü–µ–≤, –∫–ª–∏–Ω–∏–∫–∏, –≥—Ä—É–º–∏–Ω–≥, –¥—Ä–µ—Å—Å–∏—Ä–æ–≤–∫–∞, –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –∏ –º–∞–≥–∞–∑–∏–Ω"/>
  <style>
    :root {
      --bg: #0b1020;
      --card: #151a2e;
      --accent: #7cf0ff;
      --accent2: #ffd36e;
      --text: #eaf2ff;
      --muted: #9fb0cc;
      --ok: #4bd17e;
      --danger: #ff6e6e;
      --border: #223058;
    }
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    header {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: blur(8px);
      background: linear-gradient(180deg, rgba(11,16,32,0.7), rgba(11,16,32,0.4));
      border-bottom: 1px solid var(--border);
    }
    .brand {
      display: flex; align-items: center; gap: 12px; padding: 14px 16px;
    }
    .logo {
      width: 36px; height: 36px; border-radius: 10px; background:
        radial-gradient(120% 120% at 20% 20%, #0ef 0%, #637cff 45%, #742dff 70%, #0b1020 100%);
      box-shadow: 0 0 24px rgba(124,240,255,0.35), inset 0 0 24px rgba(99,124,255,0.25);
    }
    h1 { font-size: 18px; margin: 0; letter-spacing: 0.3px; }
    .sub { font-size: 12px; color: var(--muted); }
    nav {
      display: grid; grid-template-columns: repeat(7,1fr);
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
    }
    nav button {
      appearance: none; background: transparent; border: 0; color: var(--muted);
      padding: 12px 8px; cursor: pointer; font-weight: 600; letter-spacing: 0.2px;
    }
    nav button.active { color: var(--accent); border-bottom: 2px solid var(--accent); }
    main { max-width: 1100px; margin: 0 auto; padding: 16px; }
    .grid { display: grid; grid-template-columns: repeat( auto-fill, minmax(280px, 1fr) ); gap: 12px; }
    .card {
      background: linear-gradient(180deg, rgba(21,26,46,0.9), rgba(21,26,46,0.7));
      border: 1px solid var(--border);
      border-radius: 14px; padding: 12px; box-shadow: 0 12px 30px rgba(0,0,0,0.25);
    }
    .card h3 { margin: 4px 0 8px; font-size: 18px; }
    .card p { margin: 6px 0; color: var(--muted); }
    .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .row > * { flex: 1; min-width: 160px; }
    input, select, textarea {
      width: 100%; padding: 10px 12px; border-radius: 10px;
      border: 1px solid var(--border); background: #0f1530; color: var(--text);
      outline: none; transition: border .15s;
    }
    input:focus, select:focus, textarea:focus { border-color: var(--accent); }
    .btn {
      padding: 10px 14px; border-radius: 10px; border: 1px solid var(--border);
      background: #102040; color: var(--text); font-weight: 700; cursor: pointer;
    }
    .btn.primary { background: linear-gradient(90deg, #17d9ff, #7f77ff); border: 0; }
    .btn.ghost { background: transparent; border-color: var(--border); color: var(--muted); }
    .pill { display: inline-block; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border); color: var(--muted); font-size: 12px; }
    .tag { display: inline-block; margin-right: 8px; font-size: 12px; color: var(--accent2); }
    .section-title { display: flex; align-items: center; justify-content: space-between; margin: 8px 0 12px; }
    .kpis { display: flex; gap: 12px; flex-wrap: wrap; }
    .kpi { flex: 1; min-width: 160px; background: #121a34; border: 1px solid var(--border); border-radius: 12px; padding: 10px; }
    .kpi strong { font-size: 18px; }
    footer { color: var(--muted); font-size: 12px; text-align: center; padding: 24px; }
    /* subtle animated cosmic background */
    body::before {
      content: ""; position: fixed; inset: -10%; z-index: -1;
      background:
        radial-gradient(1200px 600px at 10% 20%, rgba(23,217,255,0.15), transparent 60%),
        radial-gradient(800px 800px at 88% 10%, rgba(127,119,255,0.12), transparent 60%),
        radial-gradient(600px 400px at 70% 80%, rgba(116,45,255,0.16), transparent 60%),
        linear-gradient(180deg, #070b18, #0b1020 50%, #0e1427);
      filter: saturate(1.15);
      animation: float 18s ease-in-out infinite alternate;
    }
    @keyframes float { from { transform: translateY(-1%) } to { transform: translateY(1%) } }
    .hidden { display: none; }
    .mini { font-size: 12px; color: var(--muted); }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1>PetHub</h1>
        <div class="sub">–í—Å–µ –¥–ª—è –≤–∞—à–µ–≥–æ –¥—Ä—É–≥–∞ ‚Äî –æ—Ç —Å–µ—Ä–¥—Ü–∞ –¥–æ —Ö–≤–æ—Å—Ç–∞</div>
      </div>
    </div>
    <nav id="tabs">
      <button data-tab="pets" class="active">–ü–∏—Ç–æ–º—Ü—ã</button>
      <button data-tab="clinics">–ö–ª–∏–Ω–∏–∫–∏</button>
      <button data-tab="grooming">–ì—Ä—É–º–∏–Ω–≥</button>
      <button data-tab="trainers">–î—Ä–µ—Å—Å–∏—Ä–æ–≤–∫–∞</button>
      <button data-tab="calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
      <button data-tab="donations">–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è</button>
      <button data-tab="shop">–ú–∞–≥–∞–∑–∏–Ω</button>
    </nav>
  </header>

  <main>
    <!-- KPIs / quick numbers -->
    <div class="kpis">
      <div class="kpi"><div class="mini">–ü–∏—Ç–æ–º—Ü—ã</div><strong id="kpi-pets">0</strong></div>
      <div class="kpi"><div class="mini">–ö–ª–∏–Ω–∏–∫–∏ —Ä—è–¥–æ–º</div><strong id="kpi-clinics">‚Äî</strong></div>
      <div class="kpi"><div class="mini">–ó–∞–ø–∏—Å–∏</div><strong id="kpi-events">0</strong></div>
      <div class="kpi"><div class="mini">–°–æ–±—Ä–∞–Ω–æ –¥–ª—è –ø—Ä–∏—é—Ç–æ–≤</div><strong id="kpi-donations">0 ‚ÇΩ</strong></div>
    </div>

    <!-- Pets -->
    <section id="view-pets">
      <div class="section-title">
        <h2>–ü–æ–∏—Å–∫ –ø–∏—Ç–æ–º—Ü–∞</h2>
        <button class="btn ghost" id="btn-add-pet">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</button>
      </div>
      <div class="row">
        <input id="pets-query" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, –ø–æ—Ä–æ–¥–µ, –≥–æ—Ä–æ–¥—É‚Ä¶" />
        <select id="pets-type">
          <option value="">–¢–∏–ø: –ª—é–±–æ–π</option>
          <option value="cat">–ö–æ—à–∫–∞</option>
          <option value="dog">–°–æ–±–∞–∫–∞</option>
          <option value="other">–î—Ä—É–≥–æ–µ</option>
        </select>
        <select id="pets-age">
          <option value="">–í–æ–∑—Ä–∞—Å—Ç: –ª—é–±–æ–π</option>
          <option value="baby">–©–µ–Ω–æ–∫/–∫–æ—Ç—ë–Ω–æ–∫</option>
          <option value="adult">–í–∑—Ä–æ—Å–ª—ã–π</option>
          <option value="senior">–ü–æ–∂–∏–ª–æ–π</option>
        </select>
        <button class="btn" id="pets-reset">–°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>
      <div class="grid" id="pets-list"></div>
    </section>

    <!-- Clinics -->
    <section id="view-clinics" class="hidden">
      <div class="section-title">
        <h2>–í–µ—Ç‚Äë–∫–ª–∏–Ω–∏–∫–∏ –∏ –æ–Ω–ª–∞–π–Ω –∑–∞–ø–∏—Å—å</h2>
        <button class="btn primary" id="locate-me">–ù–∞–π—Ç–∏ —Ä—è–¥–æ–º</button>
      </div>
      <div class="row">
        <input id="clinics-city" placeholder="–ì–æ—Ä–æ–¥ –∏–ª–∏ —Ä–∞–π–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)" />
        <button class="btn" id="clinics-search">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
      </div>
      <div class="grid" id="clinics-list"></div>
      <div class="card">
        <h3>–ö–∞—Ä—Ç–∞ –∫–ª–∏–Ω–∏–∫</h3>
        <p class="mini">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–Ω–µ—à–Ω—è—è –∫–∞—Ä—Ç–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É. –ü–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º –Ω–∞—Ç–∏–≤–Ω—É—é –∫–∞—Ä—Ç—É –∏ –æ–Ω–ª–∞–π–Ω‚Äë–∑–∞–ø–∏—Å—å.</p>
        <div class="row">
          <button class="btn" id="open-maps">–û—Ç–∫—Ä—ã—Ç—å Google Maps</button>
          <button class="btn" id="open-yandex">–û—Ç–∫—Ä—ã—Ç—å –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã</button>
        </div>
      </div>
    </section>

    <!-- Grooming -->
    <section id="view-grooming" class="hidden">
      <div class="section-title">
        <h2>–ì—Ä—É–º–∏–Ω–≥ –∏ –∑–∞–ø–∏—Å—å –≤ —Å–∞–ª–æ–Ω</h2>
        <button class="btn ghost" id="groom-add">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª—å</button>
      </div>
      <div class="row">
        <input id="groom-query" placeholder="–ü–æ—Ä–æ–¥–∞ –∏–ª–∏ —Å—Ç–∏–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —à–ø–∏—Ü, —Ç—Ä–∏–º–º–∏–Ω–≥)" />
        <select id="groom-length">
          <option value="">–î–ª–∏–Ω–∞: –ª—é–±–∞—è</option>
          <option value="short">–ö–æ—Ä–æ—Ç–∫–æ</option>
          <option value="medium">–°—Ä–µ–¥–Ω–µ</option>
          <option value="long">–î–ª–∏–Ω–Ω–æ</option>
        </select>
      </div>
      <div class="grid" id="groom-list"></div>
      <div class="card">
        <h3>–ó–∞–ø–∏—Å—å</h3>
        <div class="row">
          <input id="groom-date" type="date"/>
          <input id="groom-time" type="time"/>
          <input id="groom-master" placeholder="–ú–∞—Å—Ç–µ—Ä/—Å–∞–ª–æ–Ω"/>
          <button class="btn primary" id="groom-book">–ó–∞–ø–∏—Å–∞—Ç—å</button>
        </div>
        <p class="mini">–ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–∏—Ç—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å (–ª–æ–∫–∞–ª—å–Ω–æ). –ü–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º –æ–Ω–ª–∞–π–Ω‚Äë–±—Ä–æ–Ω—å –∏ –æ–ø–ª–∞—Ç—É.</p>
      </div>
    </section>

    <!-- Trainers -->
    <section id="view-trainers" class="hidden">
      <div class="section-title">
        <h2>–î—Ä–µ—Å—Å–∏—Ä–æ–≤–∫–∞</h2>
        <button class="btn ghost" id="train-add">–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–Ω–µ—Ä–∞</button>
      </div>
      <div class="row">
        <input id="train-query" placeholder="–ü–æ—Ä–æ–¥–∞/—Ü–µ–ª—å (–ø–æ—Å–ª—É—à–∞–Ω–∏–µ, –∑–∞—â–∏—Ç–∞, —â–µ–Ω–∫–∏)"/>
        <select id="train-city">
          <option value="">–ì–æ—Ä–æ–¥: –ª—é–±–æ–π</option>
          <option>–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
          <option>–ú–æ—Å–∫–≤–∞</option>
          <option>–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
        </select>
      </div>
      <div class="grid" id="train-list"></div>
    </section>

    <!-- Calendar -->
    <section id="view-calendar" class="hidden">
      <div class="section-title">
        <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–∏—Ç–æ–º—Ü–∞</h2>
        <button class="btn ghost" id="birth-add">–î–æ–±–∞–≤–∏—Ç—å –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</button>
      </div>
      <div class="row">
        <input id="event-title" placeholder="–°–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏—ë–º —É –≤—Ä–∞—á–∞)"/>
        <input id="event-date" type="date"/>
        <input id="event-time" type="time"/>
        <select id="event-type">
          <option value="general">–û–±—â–µ–µ</option>
          <option value="vet">–í—Ä–∞—á</option>
          <option value="groom">–ì—Ä—É–º–∏–Ω–≥</option>
          <option value="training">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</option>
          <option value="birthday">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</option>
        </select>
        <button class="btn primary" id="event-add">–î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
      <div class="grid" id="events-list"></div>
    </section>

    <!-- Donations -->
    <section id="view-donations" class="hidden">
      <div class="section-title">
        <h2>–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–∏—é—Ç–æ–≤</h2>
        <button class="btn ghost" id="shelter-add">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏—é—Ç</button>
      </div>
      <div class="grid" id="shelter-list"></div>
      <div class="card">
        <h3>–°–¥–µ–ª–∞—Ç—å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ</h3>
        <div class="row">
          <select id="donation-shelter"></select>
          <input id="donation-amount" type="number" min="50" step="50" placeholder="–°—É–º–º–∞ (‚ÇΩ)"/>
          <button class="btn primary" id="donation-make">–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å</button>
        </div>
        <p class="mini">–ü–æ–∫–∞ –±–µ–∑ –æ–ø–ª–∞—Ç—ã ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ–º –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏ —Å—É–º–º—É. –ü–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º –ø–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑.</p>
      </div>
    </section>

    <!-- Shop -->
    <section id="view-shop" class="hidden">
      <div class="section-title">
        <h2>–ú–∞–≥–∞–∑–∏–Ω –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö</h2>
        <button class="btn ghost" id="shop-add">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
      </div>
      <div class="row">
        <input id="shop-query" placeholder="–ü–æ–∏—Å–∫: –∫–æ—Ä–º, –∏–≥—Ä—É—à–∫–∏, –ø–µ—Ä–µ–Ω–æ—Å–∫–∞‚Ä¶"/>
        <select id="shop-type">
          <option value="">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ª—é–±–∞—è</option>
          <option value="food">–ö–æ—Ä–º</option>
          <option value="toys">–ò–≥—Ä—É—à–∫–∏</option>
          <option value="care">–£—Ö–æ–¥</option>
          <option value="accessories">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</option>
        </select>
      </div>
      <div class="grid" id="shop-list"></div>
    </section>
  </main>

  <footer>
    PetHub MVP ‚Ä¢ v0.1 ‚Ä¢ –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏. –°–¥–µ–ª–∞–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞.
  </footer>

  <script>
    // ---------- Mock data ----------
    const db = {
      pets: [
        {id:'p1', name:'–ú–∞—Ä—É—Å—è', type:'cat', age:'adult', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', desc:'–õ–∞—Å–∫–æ–≤–∞—è –∏ —Å–ø–æ–∫–æ–π–Ω–∞—è, —Å—Ç–µ—Ä–∏–ª–∏–∑–æ–≤–∞–Ω–∞.', tags:['–ø—Ä–∏—é—Ç'], phone:'+79990000001'},
        {id:'p2', name:'–†–µ–∫—Å', type:'dog', age:'baby', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', desc:'–©–µ–Ω–æ–∫, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ª—é–±–∏—Ç –¥–µ—Ç–µ–π.', tags:['—á–∞—Å—Ç–Ω–æ–µ'], phone:'+79990000002'},
        {id:'p3', name:'–ë–æ–Ω—è', type:'dog', age:'adult', city:'–ú–æ—Å–∫–≤–∞', desc:'–ê–∫—Ç–∏–≤–Ω—ã–π, –ø—Ä–∏–≤–∏—Ç, –∑–Ω–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã.', tags:['–ø—Ä–∏—é—Ç'], phone:'+79990000003'},
        {id:'p4', name:'–°–∏–º–∞', type:'cat', age:'senior', city:'–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', desc:'–°–ø–æ–∫–æ–π–Ω–∞—è, –ª—é–±–∏—Ç —É—é—Ç, –Ω—É–∂–Ω–∞ –∑–∞–±–æ—Ç–∞.', tags:['—á–∞—Å—Ç–Ω–æ–µ'], phone:'+79990000004'}
      ],
      clinics: [
        {id:'c1', name:'–í–µ—Ç–ö–ª–∞—Å—Å –Ω–∞ –ù–µ–≤—Å–∫–æ–º', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', phone:'+78120000001', site:'https://example.com'},
        {id:'c2', name:'–ó–æ–æ–î–æ–∫—Ç–æ—Ä —Ü–µ–Ω—Ç—Ä', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', phone:'+78120000002', site:'https://example.com'},
        {id:'c3', name:'–î—Ä—É–≥ –í–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–∞—è', city:'–ú–æ—Å–∫–≤–∞', phone:'+74950000001', site:'https://example.com'}
      ],
      groom: [
        {id:'g1', breed:'–®–ø–∏—Ü', style:'–ü–ª—é—à–µ–≤—ã–π', length:'medium', desc:'–†–æ–≤–Ω–∞—è –ª–∏–Ω–∏—è, –∞–∫–∫—É—Ä–∞—Ç–Ω–∞—è –º–æ—Ä–¥–æ—á–∫–∞.'},
        {id:'g2', breed:'–ü—É–¥–µ–ª—å', style:'–õ—å–≤–∏–Ω—ã–π', length:'long', desc:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –≤—ã—Å—Ç–∞–≤–æ—á–Ω–∞—è —Å—Ç—Ä–∏–∂–∫–∞.'},
        {id:'g3', breed:'–ô–æ—Ä–∫—à–∏—Ä—Å–∫–∏–π —Ç–µ—Ä—å–µ—Ä', style:'–ö–æ—Ä–æ—Ç–∫–æ', length:'short', desc:'–ü—Ä–∞–∫—Ç–∏—á–Ω–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≥—É–ª–æ–∫.'}
      ],
      trainers: [
        {id:'t1', name:'–ê–ª–µ–∫—Å–µ–π', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', focus:'–ü–æ—Å–ª—É—à–∞–Ω–∏–µ, —â–µ–Ω–∫–∏', phone:'+78120000011'},
        {id:'t2', name:'–ú–∞—Ä–∏–Ω–∞', city:'–ú–æ—Å–∫–≤–∞', focus:'–ó–∞—â–∏—Ç–∞, –¥—Ä. –ø–æ—Ä–æ–¥—ã', phone:'+74950000012'},
        {id:'t3', name:'–ò–≥–æ—Ä—å', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', focus:'–ù–æ—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞', phone:'+78120000013'}
      ],
      shelters: [
        {id:'s1', name:'–°–ü–ë –ü—Ä–∏—é—Ç "–õ—É—á"', city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'},
        {id:'s2', name:'–ú–æ—Å–∫–≤–∞ "–í–µ—Ä–Ω–æ—Å—Ç—å"', city:'–ú–æ—Å–∫–≤–∞'}
      ],
      shop: [
        {id:'sh1', name:'–ö–æ—Ä–º SuperCat 2–∫–≥', type:'food', price:899, city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', seller:'–ó–æ–æ–ú–∞—Ä–∫–µ—Ç'},
        {id:'sh2', name:'–ò–≥—Ä—É—à–∫–∞ –ú—è—á XL', type:'toys', price:349, city:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', seller:'–ó–æ–æ–ú–∞—Ä–∫–µ—Ç'},
        {id:'sh3', name:'–ü–µ—Ä–µ–Ω–æ—Å–∫–∞ AirSoft', type:'accessories', price:2190, city:'–ú–æ—Å–∫–≤–∞', seller:'PetStore'}
      ],
      events: JSON.parse(localStorage.getItem('events') || '[]'),
      donationsTotal: Number(localStorage.getItem('donationsTotal') || 0)
    };

    // ---------- Utilities ----------
    const el = id => document.getElementById(id);
    const fmtPrice = n => new Intl.NumberFormat('ru-RU').format(n) + ' ‚ÇΩ';
    const saveEvents = () => localStorage.setItem('events', JSON.stringify(db.events));
    const saveDonations = () => localStorage.setItem('donationsTotal', String(db.donationsTotal));
    const setActiveTab = tab => {
      document.querySelectorAll('nav button').forEach(b => b.classList.toggle('active', b.dataset.tab === tab));
      ['pets','clinics','grooming','trainers','calendar','donations','shop'].forEach(t => {
        el('view-'+t).classList.toggle('hidden', t !== tab);
      });
    };

    // ---------- Tabs ----------
    document.querySelectorAll('#tabs button').forEach(btn => {
      btn.addEventListener('click', () => setActiveTab(btn.dataset.tab));
    });

    // ---------- Pets ----------
    function renderPets() {
      const q = el('pets-query').value.trim().toLowerCase();
      const type = el('pets-type').value;
      const age = el('pets-age').value;
      const list = el('pets-list');
      const items = db.pets.filter(p => {
        const text = [p.name, p.city, p.desc, ...(p.tags||[])].join(' ').toLowerCase();
        const matchQ = !q || text.includes(q);
        const matchType = !type || p.type === type;
        const matchAge = !age || p.age === age;
        return matchQ && matchType && matchAge;
      });
      list.innerHTML = items.map(p => `
        <div class="card">
          <div class="tag">${p.type==='dog'?'üê∂':'üê±'} ${p.city}</div>
          <h3>${p.name}</h3>
          <p>${p.desc}</p>
          <p class="mini">–í–æ–∑—Ä–∞—Å—Ç: ${p.age==='baby'?'—â–µ–Ω–æ–∫/–∫–æ—Ç—ë–Ω–æ–∫':p.age==='adult'?'–≤–∑—Ä–æ—Å–ª—ã–π':'–ø–æ–∂–∏–ª–æ–π'} ¬∑ –ú–µ—Ç–∫–∏: ${p.tags.join(', ')}</p>
          <div class="row">
            <a class="btn" href="tel:${p.phone}">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
            <button class="btn" onclick="addEventQuick('–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ: ${p.name}','general')">–í –∫–∞–ª–µ–Ω–¥–∞—Ä—å</button>
            <button class="btn ghost" onclick="shareText('–ü–æ—Å–º–æ—Ç—Ä–∏ –ø–∏—Ç–æ–º—Ü–∞ ${p.name} ‚Äî ${p.city}. –¢–µ–ª: ${p.phone}')">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
        </div>
      `).join('');
      el('kpi-pets').textContent = String(items.length);
    }
    ['pets-query','pets-type','pets-age'].forEach(id => el(id).addEventListener('input', renderPets));
    el('pets-reset').addEventListener('click', () => { el('pets-query').value=''; el('pets-type').value=''; el('pets-age').value=''; renderPets(); });
    el('btn-add-pet').addEventListener('click', () => {
      const name = prompt('–ò–º—è –ø–∏—Ç–æ–º—Ü–∞');
      if(!name) return;
      const city = prompt('–ì–æ—Ä–æ–¥');
      const type = prompt('–¢–∏–ø (cat/dog/other)') || 'other';
      const age = prompt('–í–æ–∑—Ä–∞—Å—Ç (baby/adult/senior)') || 'adult';
      const desc = prompt('–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ') || '';
      const phone = prompt('–¢–µ–ª–µ—Ñ–æ–Ω (–≤ —Ñ–æ—Ä–º–∞—Ç–µ +7...)') || '';
      db.pets.unshift({id:'p'+Date.now(), name, city, type, age, desc, tags:['—á–∞—Å—Ç–Ω–æ–µ'], phone});
      renderPets();
    });

    // ---------- Clinics ----------
    function renderClinics() {
      const city = el('clinics-city').value.trim();
      const items = db.clinics.filter(c => !city || c.city.toLowerCase().includes(city.toLowerCase()));
      const list = el('clinics-list');
      list.innerHTML = items.map(c => `
        <div class="card">
          <div class="tag">üè• ${c.city}</div>
          <h3>${c.name}</h3>
          <p class="mini">–û–Ω–ª–∞–π–Ω –∑–∞–ø–∏—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ. –°–µ–π—á–∞—Å ‚Äî –∑–≤–æ–Ω–æ–∫ –∏–ª–∏ —Å–∞–π—Ç.</p>
          <div class="row">
            <a class="btn" href="tel:${c.phone}">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
            <a class="btn" href="${c.site}" target="_blank">–°–∞–π—Ç</a>
            <button class="btn" onclick="addEventQuick('–í—Ä–∞—á: ${c.name}','vet')">–í –∫–∞–ª–µ–Ω–¥–∞—Ä—å</button>
          </div>
        </div>
      `).join('');
      el('kpi-clinics').textContent = items.length ? String(items.length) : '‚Äî';
    }
    el('clinics-search').addEventListener('click', renderClinics);
    el('locate-me').addEventListener('click', () => {
      if(!navigator.geolocation) { alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞'); return; }
      navigator.geolocation.getCurrentPosition(pos => {
        const {latitude, longitude} = pos.coords;
        // –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ–±—â–∏–µ –∫–∞—Ä—Ç—ã —Å –ø–æ–∏—Å–∫–æ–º
        window.open(`https://maps.google.com/?q=–≤–µ—Ç+–∫–ª–∏–Ω–∏–∫–∞&ll=${latitude},${longitude}`, '_blank');
      }, () => alert('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é'));
    });
    el('open-maps').addEventListener('click', () => {
      const q = encodeURIComponent('–≤–µ—Ç –∫–ª–∏–Ω–∏–∫–∞ —Ä—è–¥–æ–º');
      window.open(`https://www.google.com/maps/search/${q}`, '_blank');
    });
    el('open-yandex').addEventListener('click', () => {
      const q = encodeURIComponent('–≤–µ—Ç –∫–ª–∏–Ω–∏–∫–∞ —Ä—è–¥–æ–º');
      window.open(`https://yandex.ru/maps/?text=${q}`, '_blank');
    });

    // ---------- Grooming ----------
    function renderGroom() {
      const q = el('groom-query').value.trim().toLowerCase();
      const len = el('groom-length').value;
      const list = el('groom-list');
      const items = db.groom.filter(g => {
        const text = `${g.breed} ${g.style} ${g.desc}`.toLowerCase();
        const matchQ = !q || text.includes(q);
        const matchL = !len || g.length === len;
        return matchQ && matchL;
      });
      list.innerHTML = items.map(g => `
        <div class="card">
          <div class="tag">‚úÇÔ∏è ${g.breed}</div>
          <h3>${g.style}</h3>
          <p>${g.desc}</p>
          <div class="row">
            <button class="btn" onclick="prefillGroom('${g.breed}','${g.style}')">–í—ã–±—Ä–∞—Ç—å —Å—Ç–∏–ª—å</button>
            <button class="btn ghost" onclick="addEventQuick('–ì—Ä—É–º–∏–Ω–≥: ${g.breed} ‚Ä¢ ${g.style}','groom')">–í –∫–∞–ª–µ–Ω–¥–∞—Ä—å</button>
          </div>
        </div>
      `).join('');
    }
    function prefillGroom(breed, style) {
      el('groom-master').value = `${breed} ‚Ä¢ ${style}`;
    }
    el('groom-query').addEventListener('input', renderGroom);
    el('groom-length').addEventListener('change', renderGroom);
    el('groom-book').addEventListener('click', () => {
      const date = el('groom-date').value, time = el('groom-time').value, master = el('groom-master').value.trim();
      if(!date || !time || !master) { alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞—Ç—É, –≤—Ä–µ–º—è –∏ –º–∞—Å—Ç–µ—Ä–∞'); return; }
      db.events.push({id:'e'+Date.now(), title:`–ì—Ä—É–º–∏–Ω–≥: ${master}`, type:'groom', date, time});
      saveEvents(); renderEvents(); setActiveTab('calendar');
      alert('–ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å');
    });
    el('groom-add').addEventListener('click', () => {
      const breed = prompt('–ü–æ—Ä–æ–¥–∞'), style = prompt('–°—Ç–∏–ª—å'), length = prompt('–î–ª–∏–Ω–∞ (short/medium/long)'), desc = prompt('–û–ø–∏—Å–∞–Ω–∏–µ');
      if(!breed || !style) return;
      db.groom.unshift({id:'g'+Date.now(), breed, style, length:length||'medium', desc:desc||''});
      renderGroom();
    });

    // ---------- Trainers ----------
    function renderTrainers() {
      const q = el('train-query').value.trim().toLowerCase();
      const city = el('train-city').value.trim();
      const list = el('train-list');
      const items = db.trainers.filter(t => {
        const matchQ = !q || `${t.focus} ${t.name}`.toLowerCase().includes(q);
        const matchCity = !city || t.city === city;
        return matchQ && matchCity;
      });
      list.innerHTML = items.map(t => `
        <div class="card">
          <div class="tag">üéì ${t.city}</div>
          <h3>${t.name}</h3>
          <p>${t.focus}</p>
          <div class="row">
            <a class="btn" href="tel:${t.phone}">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
            <button class="btn" onclick="addEventQuick('–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞: ${t.name}','training')">–í –∫–∞–ª–µ–Ω–¥–∞—Ä—å</button>
          </div>
        </div>
      `).join('');
    }
    el('train-query').addEventListener('input', renderTrainers);
    el('train-city').addEventListener('change', renderTrainers);
    el('train-add').addEventListener('click', () => {
      const name = prompt('–ò–º—è —Ç—Ä–µ–Ω–µ—Ä–∞'), city = prompt('–ì–æ—Ä–æ–¥'), focus = prompt('–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ'), phone = prompt('–¢–µ–ª–µ—Ñ–æ–Ω (+7...)');
      if(!name || !city) return;
      db.trainers.unshift({id:'t'+Date.now(), name, city, focus:focus||'', phone:phone||''});
      renderTrainers();
    });

    // ---------- Calendar ----------
    function renderEvents() {
      const list = el('events-list');
      const events = [...db.events].sort((a,b) => (a.date+a.time).localeCompare(b.date+b.time));
      el('kpi-events').textContent = String(events.length);
      list.innerHTML = events.map(e => `
        <div class="card">
          <div class="tag">${e.type==='vet'?'üè•':e.type==='groom'?'‚úÇÔ∏è':e.type==='training'?'üéì':e.type==='birthday'?'üéÇ':'üìå'}</div>
          <h3>${e.title}</h3>
          <p class="mini">${e.date} ‚Ä¢ ${e.time || '‚Äî'}</p>
          <div class="row">
            <button class="btn" onclick="shareText('–°–æ–±—ã—Ç–∏–µ: ${e.title} ‚Ä¢ ${e.date} ${e.time||''}')">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            <button class="btn ghost" onclick="deleteEvent('${e.id}')">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </div>
      `).join('');
    }
    function addEventQuick(title, type='general') {
      const dt = new Date(), date = dt.toISOString().slice(0,10);
      db.events.push({id:'e'+Date.now(), title, type, date, time:''});
      saveEvents(); renderEvents(); setActiveTab('calendar');
    }
    function deleteEvent(id) {
      db.events = db.events.filter(e => e.id !== id);
      saveEvents(); renderEvents();
    }
    el('event-add').addEventListener('click', () => {
      const title = el('event-title').value.trim();
      const date = el('event-date').value;
      const time = el('event-time').value;
      const type = el('event-type').value;
      if(!title || !date) { alert('–ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –¥–∞—Ç—É'); return; }
      db.events.push({id:'e'+Date.now(), title, type, date, time});
      saveEvents(); renderEvents();
      el('event-title').value=''; el('event-date').value=''; el('event-time').value='';
    });
    el('birth-add').addEventListener('click', () => {
      const name = prompt('–ò–º—è –ø–∏—Ç–æ–º—Ü–∞'), date = prompt('–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (–ì–ì–ì–ì-–ú–ú-–î–î)');
      if(!name || !date) return;
      db.events.push({id:'e'+Date.now(), title:`–î–†: ${name}`, type:'birthday', date, time:''});
      saveEvents(); renderEvents(); setActiveTab('calendar');
    });

    // ---------- Donations ----------
    function renderShelters() {
      const list = el('shelter-list');
      list.innerHTML = db.shelters.map(s => `
        <div class="card">
          <div class="tag">ü§ù ${s.city}</div>
          <h3>${s.name}</h3>
          <p class="mini">–†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ</p>
        </div>
      `).join('');
      const select = el('donation-shelter');
      select.innerHTML = db.shelters.map(s => `<option value="${s.id}">${s.name} (${s.city})</option>`).join('');
      el('kpi-donations').textContent = fmtPrice(db.donationsTotal);
    }
    el('donation-make').addEventListener('click', () => {
      const sid = el('donation-shelter').value;
      const amt = Number(el('donation-amount').value);
      if(!sid || !amt || amt < 50) { alert('–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –Ω–µ –º–µ–Ω—å—à–µ 50 ‚ÇΩ'); return; }
      db.donationsTotal += amt; saveDonations();
      el('kpi-donations').textContent = fmtPrice(db.donationsTotal);
      alert('–°–ø–∞—Å–∏–±–æ! –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ (–¥–µ–º–æ). –ü–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º –æ–ø–ª–∞—Ç—É.');
      el('donation-amount').value='';
    });
    el('shelter-add').addEventListener('click', () => {
      const name = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏—é—Ç–∞'), city = prompt('–ì–æ—Ä–æ–¥');
      if(!name || !city) return;
      db.shelters.push({id:'s'+Date.now(), name, city});
      renderShelters();
    });

    // ---------- Shop ----------
    function renderShop() {
      const q = el('shop-query').value.trim().toLowerCase();
      const type = el('shop-type').value;
      const list = el('shop-list');
      const items = db.shop.filter(it => {
        const text = `${it.name} ${it.city} ${it.seller}`.toLowerCase();
        const matchQ = !q || text.includes(q);
        const matchT = !type || it.type === type;
        return matchQ && matchT;
      });
      list.innerHTML = items.map(it => `
        <div class="card">
          <div class="tag">üõí ${it.city} ‚Ä¢ ${it.seller}</div>
          <h3>${it.name}</h3>
          <p>${fmtPrice(it.price)}</p>
          <div class="row">
            <button class="btn" onclick="openShopSearch('${encodeURIComponent(it.name)}')">–ò—Å–∫–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö</button>
            <button class="btn ghost" onclick="addEventQuick('–ü–æ–∫—É–ø–∫–∞: ${it.name}','general')">–í –∫–∞–ª–µ–Ω–¥–∞—Ä—å</button>
          </div>
        </div>
      `).join('');
    }
    function openShopSearch(q) {
      window.open(`https://www.google.com/search?q=${q}+–∫—É–ø–∏—Ç—å`, '_blank');
    }
    el('shop-query').addEventListener('input', renderShop);
    el('shop-type').addEventListener('change', renderShop);
    el('shop-add').addEventListener('click', () => {
      const name = prompt('–¢–æ–≤–∞—Ä'), type = prompt('–ö–∞—Ç–µ–≥–æ—Ä–∏—è (food/toys/care/accessories)'), price = Number(prompt('–¶–µ–Ω–∞, ‚ÇΩ')), city = prompt('–ì–æ—Ä–æ–¥'), seller = prompt('–ú–∞–≥–∞–∑–∏–Ω');
      if(!name || !type || !price) return;
      db.shop.unshift({id:'sh'+Date.now(), name, type, price, city: city||'', seller: seller||''});
      renderShop();
    });

    // ---------- Share ----------
    function shareText(text) {
      if(navigator.share) navigator.share({text}).catch(()=>{});
      else {
        navigator.clipboard?.writeText(text);
        alert('–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω. –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –ª—é–±–æ–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä.');
      }
    }

    // ---------- Init ----------
    function init() {
      renderPets();
      renderClinics();
      renderGroom();
      renderTrainers();
      renderEvents();
      renderShelters();
      renderShop();
    }
    init();
  </script>
</body>
</html>
